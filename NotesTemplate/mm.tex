% adapted from Nir Elber's template -- thanks!

\usepackage[margin=1in, marginparwidth=2cm]{geometry}
\usepackage[table,dvipsnames]{xcolor}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{amsfonts}
\usepackage{asymptote}
\usepackage{cancel}
\usepackage{enumitem}
\usepackage{etoolbox}
\usepackage{footnotebackref}
\usepackage{graphicx}
\usepackage{mathdots}
\usepackage{mathtools} % \todo{deal with f : X -> Y to use \colon}
\usepackage{pgffor}
\usepackage{subfiles}
\usepackage{stmaryrd}
\usepackage{textcase}
\usepackage{tikz-cd}
\usepackage{tocbibind}
\usepackage{todonotes}
\usepackage{xparse}
\usepackage{xr}

\renewcommand{\familydefault}{\sfdefault}
\usepackage{cabin}
\usepackage[default]{cantarell}

\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\fancypagestyle{contentpage}{%
	\lhead{\textit{\rightmark}}
	\cfoot{\thepage}
}

\definecolor{wikipediadarkblue}{rgb}{0.023, 0.270, 0.676}
\providecommand{\mmpdftitle}{notes}
\hypersetup{
	colorlinks,
	citecolor=black,
	filecolor=black,
	linkcolor=wikipediadarkblue,
	urlcolor=wikipediadarkblue,
	pdftitle={\mmpdftitle},
	pdfauthor={Matthew Meeker}
}
\usepackage{hyperref}


%% Niceties
% shortcuts to math fonts
\renewcommand{\AA}{\mathbb A}
\newcommand{\RR}{\mathbb R}
\newcommand{\ZZ}{\mathbb Z}
\newcommand{\NN}{\mathbb N}
\newcommand{\QQ}{\mathbb Q}
\newcommand{\CC}{\mathbb C}
\newcommand{\FF}{\mathbb F}
\newcommand{\OO}{\mathcal O}
\newcommand{\PP}{\mathbb P}
\newcommand{\CP}{\mathbb{CP}}

\newcommand{\floor}[1]{\left\lfloor{#1}\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil{#1}\right\rceil}
\newcommand{\norm}[1]{\left\lVert{#1}\right\rVert}
\newcommand{\diff}{\operatorname{diff }}
\newcommand{\disc}{\operatorname{disc }}
\newcommand{\ord}{\operatorname{ord}}
\newcommand{\lcm}{\operatorname{lcm}}
\newcommand{\del}{\partial}
\newcommand{\emp}{\varnothing}
\newcommand{\divides}{\,|\,}
\newcommand{\op}[1]{\operatorname{#1}}
\newcommand{\mf}[1]{\mathfrak{#1}}
\newcommand{\mc}[1]{\mathcal{#1}}

\newcommand{\bb}[1]{\left\llbracket{#1}\right\rrbracket}
\newcommand{\precdot}{\prec\mathrel{\mkern-5mu}\mathrel{\cdot}}

\makeatletter
\newcommand{\preceqdot}{\mathrel{\mathpalette\pr@ceqd@t\relax}}
\newcommand{\pr@ceqd@t}[2]{%
  \begingroup
  \sbox\z@{$#1\prec$}\sbox\tw@{$#1\preceq$}%
  \dimen@=\dimexpr\ht\tw@-\ht\z@\relax
  {\preceq}%
  \mkern-5mu
  \raisebox{\dimen@}{$\m@th#1\cdot$}%
  \endgroup
}
\makeatother

\newenvironment{solution}{
\begin{proof}[Solution]}{\end{proof}}

\renewcommand{\familydefault}{\sfdefault}
\usepackage{cabin}
\usepackage[default]{cantarell}

\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\fancypagestyle{contentpage}{%
	\lhead{\textit{\rightmark}}
	\cfoot{\thepage}
}
%% Color definitions
% From Nord colorscheme...

% Set text color

\definecolor{nordbg1}{HTML}{2E3440}
\definecolor{nordbg2}{HTML}{3B4252}
\definecolor{nordbg3}{HTML}{434C5E}
\definecolor{nordbg4}{HTML}{4C566A}

\definecolor{nordfg1}{HTML}{D8DEE9}
\definecolor{nordfg2}{HTML}{E5E9F0}
\definecolor{nordfg3}{HTML}{ECEFF4}

\definecolor{nordfrost1}{HTML}{8fBCBB}
\definecolor{nordfrost2}{HTML}{88C0D0}
\definecolor{nordfrost3}{HTML}{81A1C1}
\definecolor{nordfrost4}{HTML}{5E81AC}

\definecolor{nordauroraRed}{HTML}{BF616A}
\definecolor{nordauroraOrange}{HTML}{D08770}
\definecolor{nordauroraYellow}{HTML}{EBCB8B}
\definecolor{nordauroraGreen}{HTML}{A3BE8C}
\definecolor{nordauroraPurple}{HTML}{B48EAD}

\definecolor{nordfrost1Tint}{HTML}{F1F7F6}
\definecolor{nordfrost2Tint}{HTML}{F9F7F9}
\definecolor{nordfrost3Tint}{HTML}{EFF3F7}
\definecolor{nordfrost4Tint}{HTML}{EDFFFB}

\definecolor{nordauroraRedTint}{HTML}{F7EBEC}
\definecolor{nordauroraOrangeTint}{HTML}{F9F0ED}
\definecolor{nordauroraYellowTint}{HTML}{FCF9F1}
\definecolor{nordauroraGreenTint}{HTML}{F4F7F1}
\definecolor{nordauroraPurpleTint}{HTML}{F6F1F5}

% set text color
\color{nordbg4}
% Set page background color
\pagecolor{nordfg3}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% INDEX
\usepackage{imakeidx}
\makeindex[intoc, title=List of Definitions]
% thank you https://tex.stackexchange.com/a/299353/261927
% we are going to label each index entry with a counter
\newcounter{indexcounterlabel}
\setcounter{indexcounterlabel}{0}
\newcommand{\nirindexlabel}[1]{\label{indexentry:#1}}
\newcommand{\nirindex}[1]
{%
	\stepcounter{indexcounterlabel}%
	\nirindexlabel{\theindexcounterlabel}%
	% this command will do the labeling
	\index{#1|hyperref[indexentry:\theindexcounterlabel]}%
}
\newcommand{\nirprintindex}{\newpage\toctrue\printindex\tocfalse}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% /INDEX

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TITLING
\usepackage{titlesec}
\newif\iftoc

% Formatting of part
\titleformat
	{\part} % command
	[display] % shape
	{\cabin\bfseries\LARGE\scshape} % format
	{\centering\LARGE Part \thepart} % label
	{10mm} % 
	{\centering\Huge} % before-code
	[
		\thispagestyle{empty}
	] % after-code
\titlespacing*{\part}{0mm}{30mm}{30mm}
\titleclass{\part}{top}
\newcommand\partbreak{\clearpage}

% Formatting of chapter
\titleformat
	{\chapter} % command
	[display] % shape
	{\cabin} % format
	{} % label
	{2in} % 
	{
		% \rule{\textwidth}{1pt}
		% \vspace{1ex}
		\raggedleft
		% \\\vspace{-22pt}
		\iftoc
			\vspace{2in}
		\else
			{\LARGE\textsc{Theme}~{\cantarell\thechapter}}\\ % I like the other numbers ...
		\fi
		\Huge\scshape\bfseries
	} % before-code
	[
		\vspace{-18pt}%
		\rule{\textwidth}{0.1pt}
		\vspace{0.0in}
	] % after-code
\titlespacing{\chapter}
	{0pt}
	{
		\iftoc
			-103pt+1in
		\else
			-127pt+1in
		\fi
	}
	{0pt}

% Formatting of parts
\titleformat
	{\section}
	{\Large\bfseries}
	{\thesection}
	{1em}
	{}
	[]
\setcounter{tocdepth}{1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TITLING

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% EPIGRAPH
\usepackage{epigraph}
% Thank you https://tex.stackexchange.com/a/193189
\renewcommand\textflush{flushright}

\usepackage{etoolbox}
\makeatletter
\newlength\epitextskip
\pretocmd{\@epitext}{\em}{}{}
\apptocmd{\@epitext}{\em}{}{}
\patchcmd{\epigraph}
	{\@epitext{#1}\\}
	{\vspace{-0.3in+20pt}\@epitext{#1}\\[\epitextskip]}
	{}
	{}
\makeatother

\setlength\epigraphrule{0pt}
\setlength\epitextskip{2ex}
\setlength\epigraphwidth{.6\textwidth}
\setlength\afterepigraphskip{30pt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% /EPIGRAPH


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% THM BOXES
% See http://texdoc.net/texmf-dist/doc/latex/thmtools/thmtools.pdf
\renewcommand{\qedsymbol}{$\blacksquare$}
\usepackage{thmtools,thm-restate}

\usepackage[framemethod=TikZ]{mdframed}
% Fixing mdframed skip below
% See https://tex.stackexchange.com/a/292090/143086
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{xpatch}
\makeatletter
\xpatchcmd{\endmdframed}
	{\aftergroup\endmdf@trivlist\color@endgroup}
	{\endmdf@trivlist\color@endgroup\@doendpe}
	{}{}
\makeatother

% Style declarations
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordfg1,
		linecolor=nordbg4,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordbg4}
]{nordbg4box}
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordfrost1Tint,
		linecolor=nordfrost1,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordfrost1}
]{nordfrost1box}
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordfrost2Tint,
		linecolor=nordfrost2,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordfrost2}
]{nordfrost2box}
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordfrost3Tint,
		linecolor=nordfrost3,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordfrost3}
]{nordfrost3box}
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordfrost4Tint,
		linecolor=nordfrost4,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordfrost4}
]{nordfrost4box}
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordauroraRedTint,
		linecolor=nordauroraRed,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordauroraRed}
]{nordauroraRedbox}
\makeatletter
\makeatother
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordauroraOrangeTint,
		linecolor=nordauroraOrange,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordauroraOrange}
]{nordauroraOrangebox}
\makeatletter
\makeatother
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordauroraYellowTint,
		linecolor=nordauroraYellow,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordauroraYellow}
]{nordauroraYellowbox}
\makeatletter
\makeatother
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordauroraGreenTint,
		linecolor=nordauroraGreen,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordauroraGreen}
]{nordauroraGreenbox}
\makeatletter
\makeatother
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordauroraPurpleTint,
		linecolor=nordauroraPurple,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordauroraPurple}
]{nordauroraPurplebox}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% THM BOXES
% See http://texdoc.net/texmf-dist/doc/latex/thmtools/thmtools.pdf
\renewcommand{\qedsymbol}{$\blacksquare$}
\usepackage{thmtools,thm-restate}

\usepackage[framemethod=TikZ]{mdframed}
% Fixing mdframed skip below
% See https://tex.stackexchange.com/a/292090/143086
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{xpatch}
\makeatletter
\xpatchcmd{\endmdframed}
	{\aftergroup\endmdf@trivlist\color@endgroup}
	{\endmdf@trivlist\color@endgroup\@doendpe}
	{}{}
\makeatother

% I want to label things by chapter, but not all things I write have chapter
\ifx\thechapter\undefined
	\declaretheorem[style=nordbg4box,name=Theorem]{thm}
\else
	\declaretheorem[style=nordbg4box,name=Theorem,within=chapter]{thm}
\fi
\declaretheorem[style=nordfrost3box,name=Theorem,numbered=no]{thm*}
\declaretheorem[style=nordfrost3box,name=Theorem,sibling=thm]{theorem}
\declaretheorem[style=nordfrost3box,name=Theorem,numbered=no]{theorem*}
\declaretheorem[style=nordauroraYellowbox,name=Proposition,sibling=thm]{prop}
\declaretheorem[style=nordauroraYellowbox,name=Proposition,numbered=no]{prop*}
\declaretheorem[style=nordauroraYellowbox,name=Proposition,sibling=thm]{proposition}
\declaretheorem[style=nordauroraYellowbox,name=Proposition,numbered=no]{proposition*}
\declaretheorem[style=nordbg4box,name=Problem,numberwithin=section]{prob}
\declaretheorem[style=nordauroraOrangebox,name=Lemma,sibling=thm]{lem}
\declaretheorem[style=nordauroraOrangebox,name=Lemma,numbered=no]{lem*}
\declaretheorem[style=nordauroraOrangebox,name=Lemma,sibling=thm]{lemma}
\declaretheorem[style=nordauroraOrangebox,name=Lemma,numbered=no]{lemma*}
\declaretheorem[style=nordbg4box,name=Corollary,sibling=thm]{cor}
\declaretheorem[style=nordbg4box,name=Corollary,numbered=no]{cor*}
\declaretheorem[style=nordbg4box,name=Corollary,sibling=thm]{corollary}
\declaretheorem[style=nordbg4box,name=Corollary,numbered=no]{corollary*}

\declaretheorem[style=nordauroraRedbox,name=Conjecture,sibling=thm]{conj}
\declaretheorem[style=nordauroraRedbox,name=Conjecture,numbered=no]{conj*}
\declaretheorem[style=nordauroraRedbox,name=Question,sibling=thm]{ques}
\declaretheorem[style=nordauroraRedbox,name=Question,numbered=no]{ques*}
\declaretheorem[style=nordauroraRedbox,name=Convention,sibling=thm]{conv}
\declaretheorem[style=nordauroraRedbox,name=Convention,numbered=no]{conv*}
\declaretheorem[style=nordauroraRedbox,name=Convention,sibling=thm]{convention}
\declaretheorem[style=nordauroraRedbox,name=Convention,numbered=no]{convention*}

\declaretheorem[style=nordauroraGreenbox,name=Axiom,sibling=thm]{ax}
\declaretheorem[style=nordauroraGreenbox,name=Axiom,numbered=no]{ax*}
\declaretheorem[style=nordauroraGreenbox,name=Axiom,sibling=thm]{axiom}
\declaretheorem[style=nordauroraGreenbox,name=Axiom,numbered=no]{axiom*}
\declaretheorem[style=nordauroraOrangebox,name=Notation,sibling=thm]{notation}
\declaretheorem[style=nordauroraOrangebox,name=Notation,numbered=no]{notation*}
\declaretheorem[style=nordfrost4box,name=Definition,sibling=thm]{defihelper}
\declaretheorem[style=nordfrost4box,name=Definition,numbered=no]{defihelper*}

\declaretheorem[style=nordfrost1box,name=Example,sibling=thm]{ex}
\declaretheorem[style=nordfrost1box,name=Example,numbered=no]{ex*}
\declaretheorem[style=nordfrost1box,name=Example,sibling=thm]{example}
\declaretheorem[style=nordfrost1box,name=Example,numbered=no]{example*}
\declaretheorem[style=nordfrost4box,name=Exercise,sibling=thm]{exercise}
\declaretheorem[style=nordfrost4box,name=Exercise,numbered=no]{exercise*}
\declaretheorem[style=nordfrost4box,name=Exercise,sibling=thm]{exe}
\declaretheorem[style=nordfrost4box,name=Exercise,numbered=no]{exe*}

\declaretheorem[style=nordauroraPurplebox,name=Remark,sibling=thm]{remark}
\declaretheorem[style=nordauroraPurplebox,name=Remark,numbered=no]{remark*}
\declaretheorem[style=nordauroraPurplebox,name=Quote,sibling=thm]{quot}
\declaretheorem[style=nordauroraPurplebox,name=Quote,numbered=no]{quot*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% /THM BOXES

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% INDEX BOXES
% smuggle the note from the header formatting
\makeatletter
\def\thmt@setheadstyle#1{%
	\thmt@style@headstyle{%
		\def\NAME{\the\thm@headfont ##1}%
		\def\NUMBER{\bgroup\@upn{##2}\egroup}%
		\def\NOTE{\if=##3=\else\bgroup\thmt@space\the\thm@notefont(##3)\egroup\fi}%
		% my precious!
		\def\NIRNOTE{\if=##3=\else##3\fi}%
	}%
	\def\thmt@tmp{#1}%
	\@onelevel@sanitize\thmt@tmp
	%\tracingall
	\ifcsname thmt@headstyle@\thmt@tmp\endcsname
		\thmt@style@headstyle\@xa{%
			\the\thmt@style@headstyle
			\csname thmt@headstyle@#1\endcsname
		}%
	\else
		\thmt@style@headstyle\@xa{%
			\the\thmt@style@headstyle
			#1%
		}%
	\fi
	%\showthe\thmt@style@headstyle
}
% disable indexing in restatable, as with labels
\renewenvironment{thmt@restatable}[3][]{%
	\thmt@toks{}% will hold body
%
	\stepcounter{thmt@dummyctr}% used for data storage label.
%
	\long\def\thmrst@store##1{%
		\@xa\gdef\csname #3\endcsname{%
			\@ifstar{%
				\thmt@thisistheonefalse\csname thmt@stored@#3\endcsname
			}{%
				\thmt@thisistheonetrue\csname thmt@stored@#3\endcsname
			}%
		}%
		\@xa\long\@xa\gdef\csname thmt@stored@#3\@xa\endcsname\@xa{%
			\begingroup
			\ifthmt@thisistheone
				% these are the valid numbers, store them for the other
				% occasions.
				\thmt@rst@storecounters{#3}%
			\else
				% this one should use other numbers...
				% first, fake the theorem number.
				\@xa\protected@edef\csname the#2\endcsname{%
					\thmt@trivialref{thmt@@#3}{??}}%
				% if the number wasn't there, have a "re-run to get labels right"
				% warning.
				\ifcsname r@thmt@@#3\endcsname\else
					\G@refundefinedtrue
				\fi
				% prevent stepcountering the theorem number,
				% but still, have some number for hyperref, just in case.
				\@xa\let\csname c@#2\endcsname=\c@thmt@dummyctr
				\@xa\let\csname theH#2\endcsname=\theHthmt@dummyctr
				% disable labeling.
				\let\label=\thmt@gobble@label
				% disable indexing!
				\let\index=\@gobble
				\let\ltx@label=\@gobble% amsmath needs this
				% We shall need to restore the counters at the end
				% of the environment, so we get
				% (4.2) [(3.1 from restate)] (4.3)
				\def\thmt@restorecounters{}%
				\@for\thmt@ctr:=\thmt@innercounters\do{%
					\protected@edef\thmt@restorecounters{%
						\thmt@restorecounters
						\protect\setcounter{\thmt@ctr}{\arabic{\thmt@ctr}}%
					}%
				}%
				% pull the new semi-static definition of \theequation et al.
				% from the aux file.
				\thmt@trivialref{thmt@@#3@data}{}%
			\fi
			% call the proper begin-env code, possibly with optional argument      
			% (omit if stored via key-val)
			\ifthmt@restatethis
				\thmt@restatethisfalse
			\else
				\csname #2\@xa\endcsname\ifx\@nx#1\@nx\else[{#1}]\fi
			\fi
			\ifthmt@thisistheone
				% store a label so we can pick up the number later.
				\label{thmt@@#3}%
			\fi
			% this will be the collected body.
			##1%
			\csname end#2\endcsname
			% if we faked the counter values, restore originals now.
			\ifthmt@thisistheone\else\thmt@restorecounters\fi
			\endgroup
		}% thmt@stored@#3
		% in either case, now call the just-created macro,
		\csname #3\@xa\endcsname\ifthmt@thisistheone\else*\fi
		% and artificially close the current environment.
		\@xa\end\@xa{\@currenvir}
	}% thm@rst@store
	\thmt@collect@body\thmrst@store
}{%

}
\makeatother
\declaretheoremstyle[
	mdframed={
		backgroundcolor=nordauroraGreenTint,
		linecolor=nordauroraGreen,
		rightline=false,
		topline=false,
		bottomline=false,
		linewidth=2pt,
		innertopmargin=5pt,
		innerbottommargin=8pt,
		innerleftmargin=8pt,
		leftmargin=-2pt,
		skipbelow=2pt,
		nobreak
	},
	headfont=\normalfont\bfseries\color{nordauroraGreen},
	headformat={\NAME\ \NUMBER\NOTE{\nirindex{\NIRNOTE}}}
]{nirgreenboxindexed}
\declaretheorem[style=nirgreenboxindexed,name=Definition,sibling=thm]{defi}
\declaretheorem[style=nirgreenboxindexed,name=Definition,numbered=no]{defi*}
\declaretheorem[style=nirgreenboxindexed,name=Definition,sibling=thm]{definition}
\declaretheorem[style=nirgreenboxindexed,name=Definition,numbered=no]{definition*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% /INDEX BOXES
